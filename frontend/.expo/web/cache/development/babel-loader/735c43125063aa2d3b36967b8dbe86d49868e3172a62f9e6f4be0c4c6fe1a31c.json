{"ast":null,"code":"var _jsxFileName = \"/home/data2/AIFace/AICoffeeLeaf/frontend/node_modules/react-native-image-viewing/dist/ImageViewing.js\";\nimport React, { useCallback, useRef, useEffect } from \"react\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport VirtualizedList from \"react-native-web/dist/exports/VirtualizedList\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ImageItem from \"./components/ImageItem/ImageItem\";\nimport ImageDefaultHeader from \"./components/ImageDefaultHeader\";\nimport StatusBarManager from \"./components/StatusBarManager\";\nimport useAnimatedComponents from \"./hooks/useAnimatedComponents\";\nimport useImageIndexChange from \"./hooks/useImageIndexChange\";\nimport useRequestClose from \"./hooks/useRequestClose\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_ANIMATION_TYPE = \"fade\";\nconst DEFAULT_BG_COLOR = \"#000\";\nconst DEFAULT_DELAY_LONG_PRESS = 800;\nconst SCREEN = Dimensions.get(\"screen\");\nconst SCREEN_WIDTH = SCREEN.width;\nfunction ImageViewing({\n  images,\n  keyExtractor,\n  imageIndex,\n  visible,\n  onRequestClose,\n  onLongPress = () => {},\n  onImageIndexChange,\n  animationType = DEFAULT_ANIMATION_TYPE,\n  backgroundColor = DEFAULT_BG_COLOR,\n  presentationStyle,\n  swipeToCloseEnabled,\n  doubleTapToZoomEnabled,\n  delayLongPress = DEFAULT_DELAY_LONG_PRESS,\n  HeaderComponent,\n  FooterComponent\n}) {\n  const imageList = useRef(null);\n  const [opacity, onRequestCloseEnhanced] = useRequestClose(onRequestClose);\n  const [currentImageIndex, onScroll] = useImageIndexChange(imageIndex, SCREEN);\n  const [headerTransform, footerTransform, toggleBarsVisible] = useAnimatedComponents();\n  useEffect(() => {\n    if (onImageIndexChange) {\n      onImageIndexChange(currentImageIndex);\n    }\n  }, [currentImageIndex]);\n  const onZoom = useCallback(isScaled => {\n    var _a, _b;\n    (_b = (_a = imageList) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.setNativeProps({\n      scrollEnabled: !isScaled\n    });\n    toggleBarsVisible(!isScaled);\n  }, [imageList]);\n  if (!visible) {\n    return null;\n  }\n  return _jsxDEV(Modal, {\n    transparent: presentationStyle === \"overFullScreen\",\n    visible: visible,\n    presentationStyle: presentationStyle,\n    animationType: animationType,\n    onRequestClose: onRequestCloseEnhanced,\n    supportedOrientations: [\"portrait\"],\n    hardwareAccelerated: true,\n    children: [_jsxDEV(StatusBarManager, {\n      presentationStyle: presentationStyle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: [styles.container, {\n        opacity,\n        backgroundColor\n      }],\n      children: [_jsxDEV(Animated.View, {\n        style: [styles.header, {\n          transform: headerTransform\n        }],\n        children: typeof HeaderComponent !== \"undefined\" ? React.createElement(HeaderComponent, {\n          imageIndex: currentImageIndex\n        }) : _jsxDEV(ImageDefaultHeader, {\n          onRequestClose: onRequestCloseEnhanced\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), _jsxDEV(VirtualizedList, {\n        ref: imageList,\n        data: images,\n        horizontal: true,\n        pagingEnabled: true,\n        windowSize: 2,\n        initialNumToRender: 1,\n        maxToRenderPerBatch: 1,\n        showsHorizontalScrollIndicator: false,\n        showsVerticalScrollIndicator: false,\n        initialScrollIndex: imageIndex,\n        getItem: (_, index) => images[index],\n        getItemCount: () => images.length,\n        getItemLayout: (_, index) => ({\n          length: SCREEN_WIDTH,\n          offset: SCREEN_WIDTH * index,\n          index\n        }),\n        renderItem: ({\n          item: imageSrc\n        }) => _jsxDEV(ImageItem, {\n          onZoom: onZoom,\n          imageSrc: imageSrc,\n          onRequestClose: onRequestCloseEnhanced,\n          onLongPress: onLongPress,\n          delayLongPress: delayLongPress,\n          swipeToCloseEnabled: swipeToCloseEnabled,\n          doubleTapToZoomEnabled: doubleTapToZoomEnabled\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 46\n        }, this),\n        onMomentumScrollEnd: onScroll,\n        keyExtractor: (imageSrc, index) => keyExtractor ? keyExtractor(imageSrc, index) : typeof imageSrc === \"number\" ? `${imageSrc}` : imageSrc.uri\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), typeof FooterComponent !== \"undefined\" && _jsxDEV(Animated.View, {\n        style: [styles.footer, {\n          transform: footerTransform\n        }],\n        children: React.createElement(FooterComponent, {\n          imageIndex: currentImageIndex\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 53\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 13\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#000\"\n  },\n  header: {\n    position: \"absolute\",\n    width: \"100%\",\n    zIndex: 1,\n    top: 0\n  },\n  footer: {\n    position: \"absolute\",\n    width: \"100%\",\n    zIndex: 1,\n    bottom: 0\n  }\n});\nconst EnhancedImageViewing = props => _jsxDEV(ImageViewing, Object.assign({}, props), props.imageIndex, false, {\n  fileName: _jsxFileName,\n  lineNumber: 85,\n  columnNumber: 42\n}, this);\nexport default EnhancedImageViewing;","map":{"version":3,"names":["React","useCallback","useRef","useEffect","Animated","Dimensions","StyleSheet","View","VirtualizedList","Modal","ImageItem","ImageDefaultHeader","StatusBarManager","useAnimatedComponents","useImageIndexChange","useRequestClose","jsxDEV","_jsxDEV","DEFAULT_ANIMATION_TYPE","DEFAULT_BG_COLOR","DEFAULT_DELAY_LONG_PRESS","SCREEN","get","SCREEN_WIDTH","width","ImageViewing","images","keyExtractor","imageIndex","visible","onRequestClose","onLongPress","onImageIndexChange","animationType","backgroundColor","presentationStyle","swipeToCloseEnabled","doubleTapToZoomEnabled","delayLongPress","HeaderComponent","FooterComponent","imageList","opacity","onRequestCloseEnhanced","currentImageIndex","onScroll","headerTransform","footerTransform","toggleBarsVisible","onZoom","isScaled","_a","_b","current","setNativeProps","scrollEnabled","transparent","supportedOrientations","hardwareAccelerated","children","fileName","_jsxFileName","lineNumber","columnNumber","style","styles","container","header","transform","createElement","ref","data","horizontal","pagingEnabled","windowSize","initialNumToRender","maxToRenderPerBatch","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","initialScrollIndex","getItem","_","index","getItemCount","length","getItemLayout","offset","renderItem","item","imageSrc","onMomentumScrollEnd","uri","footer","create","flex","position","zIndex","top","bottom","EnhancedImageViewing","props","Object","assign"],"sources":["/home/data2/AIFace/AICoffeeLeaf/frontend/node_modules/react-native-image-viewing/dist/ImageViewing.js"],"sourcesContent":["/**\n * Copyright (c) JOB TODAY S.A. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport React, { useCallback, useRef, useEffect } from \"react\";\nimport { Animated, Dimensions, StyleSheet, View, VirtualizedList, Modal, } from \"react-native\";\nimport ImageItem from \"./components/ImageItem/ImageItem\";\nimport ImageDefaultHeader from \"./components/ImageDefaultHeader\";\nimport StatusBarManager from \"./components/StatusBarManager\";\nimport useAnimatedComponents from \"./hooks/useAnimatedComponents\";\nimport useImageIndexChange from \"./hooks/useImageIndexChange\";\nimport useRequestClose from \"./hooks/useRequestClose\";\nconst DEFAULT_ANIMATION_TYPE = \"fade\";\nconst DEFAULT_BG_COLOR = \"#000\";\nconst DEFAULT_DELAY_LONG_PRESS = 800;\nconst SCREEN = Dimensions.get(\"screen\");\nconst SCREEN_WIDTH = SCREEN.width;\nfunction ImageViewing({ images, keyExtractor, imageIndex, visible, onRequestClose, onLongPress = () => { }, onImageIndexChange, animationType = DEFAULT_ANIMATION_TYPE, backgroundColor = DEFAULT_BG_COLOR, presentationStyle, swipeToCloseEnabled, doubleTapToZoomEnabled, delayLongPress = DEFAULT_DELAY_LONG_PRESS, HeaderComponent, FooterComponent, }) {\n    const imageList = useRef(null);\n    const [opacity, onRequestCloseEnhanced] = useRequestClose(onRequestClose);\n    const [currentImageIndex, onScroll] = useImageIndexChange(imageIndex, SCREEN);\n    const [headerTransform, footerTransform, toggleBarsVisible] = useAnimatedComponents();\n    useEffect(() => {\n        if (onImageIndexChange) {\n            onImageIndexChange(currentImageIndex);\n        }\n    }, [currentImageIndex]);\n    const onZoom = useCallback((isScaled) => {\n        var _a, _b;\n        // @ts-ignore\n        (_b = (_a = imageList) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.setNativeProps({ scrollEnabled: !isScaled });\n        toggleBarsVisible(!isScaled);\n    }, [imageList]);\n    if (!visible) {\n        return null;\n    }\n    return (<Modal transparent={presentationStyle === \"overFullScreen\"} visible={visible} presentationStyle={presentationStyle} animationType={animationType} onRequestClose={onRequestCloseEnhanced} supportedOrientations={[\"portrait\"]} hardwareAccelerated>\n      <StatusBarManager presentationStyle={presentationStyle}/>\n      <View style={[styles.container, { opacity, backgroundColor }]}>\n        <Animated.View style={[styles.header, { transform: headerTransform }]}>\n          {typeof HeaderComponent !== \"undefined\" ? (React.createElement(HeaderComponent, {\n        imageIndex: currentImageIndex,\n    })) : (<ImageDefaultHeader onRequestClose={onRequestCloseEnhanced}/>)}\n        </Animated.View>\n        <VirtualizedList ref={imageList} data={images} horizontal pagingEnabled windowSize={2} initialNumToRender={1} maxToRenderPerBatch={1} showsHorizontalScrollIndicator={false} showsVerticalScrollIndicator={false} initialScrollIndex={imageIndex} getItem={(_, index) => images[index]} getItemCount={() => images.length} getItemLayout={(_, index) => ({\n        length: SCREEN_WIDTH,\n        offset: SCREEN_WIDTH * index,\n        index,\n    })} renderItem={({ item: imageSrc }) => (<ImageItem onZoom={onZoom} imageSrc={imageSrc} onRequestClose={onRequestCloseEnhanced} onLongPress={onLongPress} delayLongPress={delayLongPress} swipeToCloseEnabled={swipeToCloseEnabled} doubleTapToZoomEnabled={doubleTapToZoomEnabled}/>)} onMomentumScrollEnd={onScroll} \n    //@ts-ignore\n    keyExtractor={(imageSrc, index) => keyExtractor\n        ? keyExtractor(imageSrc, index)\n        : typeof imageSrc === \"number\"\n            ? `${imageSrc}`\n            : imageSrc.uri}/>\n        {typeof FooterComponent !== \"undefined\" && (<Animated.View style={[styles.footer, { transform: footerTransform }]}>\n            {React.createElement(FooterComponent, {\n        imageIndex: currentImageIndex,\n    })}\n          </Animated.View>)}\n      </View>\n    </Modal>);\n}\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: \"#000\",\n    },\n    header: {\n        position: \"absolute\",\n        width: \"100%\",\n        zIndex: 1,\n        top: 0,\n    },\n    footer: {\n        position: \"absolute\",\n        width: \"100%\",\n        zIndex: 1,\n        bottom: 0,\n    },\n});\nconst EnhancedImageViewing = (props) => (<ImageViewing key={props.imageIndex} {...props}/>);\nexport default EnhancedImageViewing;\n"],"mappings":"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"},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}