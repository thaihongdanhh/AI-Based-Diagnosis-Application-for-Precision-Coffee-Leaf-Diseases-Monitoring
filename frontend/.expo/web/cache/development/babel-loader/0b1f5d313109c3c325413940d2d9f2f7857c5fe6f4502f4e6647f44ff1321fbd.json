{"ast":null,"code":"class EventScope {\n  #listeners = new Set();\n  addEventListener(listener) {\n    this.#listeners.add(listener);\n  }\n  removeEventListener(listener) {\n    this.#listeners.delete(listener);\n  }\n  emit(value) {\n    for (const listener of this.#listeners) {\n      listener(value);\n    }\n  }\n}\nexport class Domain {\n  constructor(name) {\n    if (global[FuseboxReactDevToolsDispatcher.BINDING_NAME] == null) {\n      throw new Error(`Could not create domain ${name}: receiving end doesn't exist`);\n    }\n    this.name = name;\n    this.onMessage = new EventScope();\n  }\n  sendMessage(message) {\n    const messageWithDomain = {\n      domain: this.name,\n      message\n    };\n    const serializedMessageWithDomain = JSON.stringify(messageWithDomain);\n    global[FuseboxReactDevToolsDispatcher.BINDING_NAME](serializedMessageWithDomain);\n  }\n}\nclass FuseboxReactDevToolsDispatcher {\n  static #domainNameToDomainMap = new Map();\n  static BINDING_NAME = '__CHROME_DEVTOOLS_FRONTEND_BINDING__';\n  static onDomainInitialization = new EventScope();\n  static initializeDomain(domainName) {\n    const domain = new Domain(domainName);\n    this.#domainNameToDomainMap.set(domainName, domain);\n    this.onDomainInitialization.emit(domain);\n    return domain;\n  }\n  static sendMessage(domainName, message) {\n    const domain = this.#domainNameToDomainMap.get(domainName);\n    if (domain == null) {\n      throw new Error(`Could not send message to ${domainName}: domain doesn't exist`);\n    }\n    try {\n      const parsedMessage = JSON.parse(message);\n      domain.onMessage.emit(parsedMessage);\n    } catch (err) {\n      console.error(`Error while trying to send a message to domain ${domainName}:`, err);\n    }\n  }\n}\nObject.defineProperty(global, '__FUSEBOX_REACT_DEVTOOLS_DISPATCHER__', {\n  value: FuseboxReactDevToolsDispatcher,\n  configurable: false,\n  enumerable: false,\n  writable: false\n});","map":{"version":3,"names":["EventScope","listeners","Set","addEventListener","listener","add","removeEventListener","delete","emit","value","Domain","constructor","name","global","FuseboxReactDevToolsDispatcher","BINDING_NAME","Error","onMessage","sendMessage","message","messageWithDomain","domain","serializedMessageWithDomain","JSON","stringify","domainNameToDomainMap","Map","onDomainInitialization","initializeDomain","domainName","set","get","parsedMessage","parse","err","console","error","Object","defineProperty","configurable","enumerable","writable"],"sources":["/home/data2/AIFace/AICoffeeLeaf/frontend/node_modules/react-native/src/private/fusebox/setUpFuseboxReactDevToolsDispatcher.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n * @oncall react_native\n */\n\ntype JSONValue =\n  | string\n  | number\n  | boolean\n  | null\n  | {[key: string]: JSONValue}\n  | Array<JSONValue>;\ntype DomainName = 'react-devtools';\n\nclass EventScope<T> {\n  #listeners: Set<(T) => void> = new Set();\n\n  addEventListener(listener: T => void): void {\n    this.#listeners.add(listener);\n  }\n\n  removeEventListener(listener: T => void): void {\n    this.#listeners.delete(listener);\n  }\n\n  emit(value: T): void {\n    // Assuming that listeners won't throw.\n    for (const listener of this.#listeners) {\n      listener(value);\n    }\n  }\n}\n\nexport class Domain {\n  name: DomainName;\n  onMessage: EventScope<JSONValue>;\n\n  constructor(name: DomainName) {\n    if (global[FuseboxReactDevToolsDispatcher.BINDING_NAME] == null) {\n      throw new Error(\n        `Could not create domain ${name}: receiving end doesn't exist`,\n      );\n    }\n\n    this.name = name;\n    this.onMessage = new EventScope<JSONValue>();\n  }\n\n  sendMessage(message: JSONValue) {\n    const messageWithDomain = {domain: this.name, message};\n    const serializedMessageWithDomain = JSON.stringify(messageWithDomain);\n\n    global[FuseboxReactDevToolsDispatcher.BINDING_NAME](\n      serializedMessageWithDomain,\n    );\n  }\n}\n\nclass FuseboxReactDevToolsDispatcher {\n  static #domainNameToDomainMap: Map<DomainName, Domain> = new Map();\n\n  // Referenced and initialized from Chrome DevTools frontend.\n  static BINDING_NAME: string = '__CHROME_DEVTOOLS_FRONTEND_BINDING__';\n  static onDomainInitialization: EventScope<Domain> = new EventScope<Domain>();\n\n  // Should be private, referenced from Chrome DevTools frontend only.\n  static initializeDomain(domainName: DomainName): Domain {\n    const domain = new Domain(domainName);\n\n    this.#domainNameToDomainMap.set(domainName, domain);\n    this.onDomainInitialization.emit(domain);\n\n    return domain;\n  }\n\n  // Should be private, referenced from Chrome DevTools frontend only.\n  static sendMessage(domainName: DomainName, message: string): void {\n    const domain = this.#domainNameToDomainMap.get(domainName);\n    if (domain == null) {\n      throw new Error(\n        `Could not send message to ${domainName}: domain doesn't exist`,\n      );\n    }\n\n    try {\n      const parsedMessage = JSON.parse(message);\n      domain.onMessage.emit(parsedMessage);\n    } catch (err) {\n      console.error(\n        `Error while trying to send a message to domain ${domainName}:`,\n        err,\n      );\n    }\n  }\n}\n\nObject.defineProperty(global, '__FUSEBOX_REACT_DEVTOOLS_DISPATCHER__', {\n  value: FuseboxReactDevToolsDispatcher,\n  configurable: false,\n  enumerable: false,\n  writable: false,\n});\n"],"mappings":"AAoBA,MAAMA,UAAU,CAAI;EAClB,CAACC,SAAS,GAAqB,IAAIC,GAAG,CAAC,CAAC;EAExCC,gBAAgBA,CAACC,QAAmB,EAAQ;IAC1C,IAAI,CAAC,CAACH,SAAS,CAACI,GAAG,CAACD,QAAQ,CAAC;EAC/B;EAEAE,mBAAmBA,CAACF,QAAmB,EAAQ;IAC7C,IAAI,CAAC,CAACH,SAAS,CAACM,MAAM,CAACH,QAAQ,CAAC;EAClC;EAEAI,IAAIA,CAACC,KAAQ,EAAQ;IAEnB,KAAK,MAAML,QAAQ,IAAI,IAAI,CAAC,CAACH,SAAS,EAAE;MACtCG,QAAQ,CAACK,KAAK,CAAC;IACjB;EACF;AACF;AAEA,OAAO,MAAMC,MAAM,CAAC;EAIlBC,WAAWA,CAACC,IAAgB,EAAE;IAC5B,IAAIC,MAAM,CAACC,8BAA8B,CAACC,YAAY,CAAC,IAAI,IAAI,EAAE;MAC/D,MAAM,IAAIC,KAAK,CACZ,2BAA0BJ,IAAK,+BAClC,CAAC;IACH;IAEA,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACK,SAAS,GAAG,IAAIjB,UAAU,CAAY,CAAC;EAC9C;EAEAkB,WAAWA,CAACC,OAAkB,EAAE;IAC9B,MAAMC,iBAAiB,GAAG;MAACC,MAAM,EAAE,IAAI,CAACT,IAAI;MAAEO;IAAO,CAAC;IACtD,MAAMG,2BAA2B,GAAGC,IAAI,CAACC,SAAS,CAACJ,iBAAiB,CAAC;IAErEP,MAAM,CAACC,8BAA8B,CAACC,YAAY,CAAC,CACjDO,2BACF,CAAC;EACH;AACF;AAEA,MAAMR,8BAA8B,CAAC;EACnC,OAAO,CAACW,qBAAqB,GAA4B,IAAIC,GAAG,CAAC,CAAC;EAGlE,OAAOX,YAAY,GAAW,sCAAsC;EACpE,OAAOY,sBAAsB,GAAuB,IAAI3B,UAAU,CAAS,CAAC;EAG5E,OAAO4B,gBAAgBA,CAACC,UAAsB,EAAU;IACtD,MAAMR,MAAM,GAAG,IAAIX,MAAM,CAACmB,UAAU,CAAC;IAErC,IAAI,CAAC,CAACJ,qBAAqB,CAACK,GAAG,CAACD,UAAU,EAAER,MAAM,CAAC;IACnD,IAAI,CAACM,sBAAsB,CAACnB,IAAI,CAACa,MAAM,CAAC;IAExC,OAAOA,MAAM;EACf;EAGA,OAAOH,WAAWA,CAACW,UAAsB,EAAEV,OAAe,EAAQ;IAChE,MAAME,MAAM,GAAG,IAAI,CAAC,CAACI,qBAAqB,CAACM,GAAG,CAACF,UAAU,CAAC;IAC1D,IAAIR,MAAM,IAAI,IAAI,EAAE;MAClB,MAAM,IAAIL,KAAK,CACZ,6BAA4Ba,UAAW,wBAC1C,CAAC;IACH;IAEA,IAAI;MACF,MAAMG,aAAa,GAAGT,IAAI,CAACU,KAAK,CAACd,OAAO,CAAC;MACzCE,MAAM,CAACJ,SAAS,CAACT,IAAI,CAACwB,aAAa,CAAC;IACtC,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CACV,kDAAiDP,UAAW,GAAE,EAC/DK,GACF,CAAC;IACH;EACF;AACF;AAEAG,MAAM,CAACC,cAAc,CAACzB,MAAM,EAAE,uCAAuC,EAAE;EACrEJ,KAAK,EAAEK,8BAA8B;EACrCyB,YAAY,EAAE,KAAK;EACnBC,UAAU,EAAE,KAAK;EACjBC,QAAQ,EAAE;AACZ,CAAC,CAAC"},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}